(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{264:function(e,t,i){},440:function(e,t,i){"use strict";var o=i(264);i.n(o).a},444:function(e,t,i){"use strict";i.r(t);const o="https://api.lunatechs.dev/v1";var a={data:()=>({formSubmitted:!1,plugins:[],title:"",selectedPluginRepo:"",os:"üèÅ Windows 10",bugLocations:["Game Map","Battle Scene","Menu","Other"],bugLocation:"",bugLocationOther:"",bugActions:["Moving","Processing an Event","Opening Menu","Switching Scenes","Other"],bugAction:"",bugActionOther:"",description:"",expectedBehaviour:"",actualBehaviour:"",stepsToReproduce:"",offendingCode:"",gameDemoLink:"",errors:[],captchaUserToken:"",issueLink:"",isProcessing:!1}),methods:{canShowLoader(){return this.isProcessing&&!this.formSubmitted},onCaptchaExpire(){this.errors.push("Captcha expired")},async onCaptchaFullfilled(e){this.captchaUserToken=e},async validateCapctha(){try{const e=o+"/verifyCaptcha";return await fetch(`${e}?token=${this.captchaUserToken}`)}catch(e){const t="Error verifying captcha with server, contact website administrator";console.error(t,e)}},async validateForm(){if(this.errors=[],this.title||this.errors.push("A Title is required"),this.selectedPluginRepo||this.errors.push("The affected plugin is required"),!this.bugLocation&&this.bugLocationOther&&this.errors.push("The location of the bug is required"),!this.bugAction&&this.bugLocationOther&&this.errors.push("The action before bug is required"),this.description||this.errors.push("A description is required"),this.gameDemoLink||this.errors.push("A link to a demo game is required"),this.$refs.gameDemoLink.checkValidity()||this.errors.push("Invalid URL for the game demo link"),this.captchaUserToken||this.errors.push("You need to complete the reCaptcha"),this.errors.length>0)return!1;const e=await this.validateCapctha();return!("true"!==await e.text())||(this.errors.push("reCaptcha was unable to determine if you're a human, please try again."),!1)},async submitReport(){this.isProcessing=!0;if(await this.validateForm()){const e=`\n**Location bug occurs:** ${"other"!==this.bugLocation?this.bugLocation:this.bugLocationOther}\n\n**Action performed before bug:** ${"other"!==this.bugAction?this.bugAction:this.bugActionOther}\n\n# Description\n${this.description}\n\n## Expected Behaviour\n${this.expectedBehaviour}\n\n## Actual Behaviour\n${this.actualBehaviour}\n\n## Steps to Reproduce\n${this.stepsToReproduce}\n\n## Possible Offending Code\n${this.offendingCode}\n\n**Demo Game Link:** ${this.gameDemoLink}\n`,t={title:this.title,labels:["üêõ bug","üìÉ Website Report",this.os],content:e},i=await fetch(o+"/reportBug",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({repo:this.selectedPluginRepo,data:t})});if(i.ok){const e=await i.json();return this.formSubmitted=!0,this.isProcessing=!1,void(this.issueLink=e.data.html_url)}this.errors.push("Unable to submit report"),console.error(i)}await async function(e){return new Promise(t=>setTimeout(()=>{t()},e))}(1600),this.isProcessing=!1},resetForm(){Object.assign(this.$data,this.$options.data.apply(this)),window.hcaptcha.reset()}},async mounted(){if(localStorage.plugins)return void(this.plugins=JSON.parse(localStorage.plugins));const e=await fetch(o+"/fetchGitProjects"),t=await e.json(),i=t.map(e=>{const t=[...e.description.matchAll(/`(.*)`/g)][0];if(t&&t.length>0)return{repo:e.name,name:t[1],url:e.url,id:e.id}}).filter(e=>e);this.plugins=i,localStorage.plugins=JSON.stringify(i);const a=window.hcaptcha,r=document.getElementById("h-captcha");a.render(r,{sitekey:"e51b1a3d-0744-4838-8711-e12acab1a02a",theme:"dark",callback:e=>this.onCaptchaFullfilled(e),"expired-callback":this.onCaptchaExpire,"error-callback":e=>console.error(e)})}},r=(i(440),i(3)),s=Object(r.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"theme-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.formSubmitted,expression:"formSubmitted"}]},[i("p",[e._v("\n      Your bug has been succesfully reported at\n      "),i("a",{attrs:{href:e.issueLink}},[e._v(e._s(e.issueLink))])])]),e._v(" "),i("form",{directives:[{name:"show",rawName:"v-show",value:!e.formSubmitted,expression:"!formSubmitted"}]},[e._m(0),e._v(" "),i("label",{ref:"title",attrs:{for:"title"}},[e._v("\n      Title\n      "),e._m(1)]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",name:"title",placeholder:"Title"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),e._v(" "),i("div",{staticClass:"grid"},[i("div",{staticClass:"grid-half"},[e._m(2),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPluginRepo,expression:"selectedPluginRepo"}],attrs:{name:"plugin"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedPluginRepo=t.target.multiple?i:i[0]}}},e._l(e.plugins,(function(t){return i("option",{domProps:{value:t.repo}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),0)]),e._v(" "),i("div",{staticClass:"grid-half"},[i("label",{attrs:{for:"os"}},[e._v("Operating System/Enviorment")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.os,expression:"os"}],attrs:{name:"os"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.os=t.target.multiple?i:i[0]}}},[i("option",[e._v("üèÅ Windows")]),e._v(" "),i("option",[e._v("üåê Browser")]),e._v(" "),i("option",[e._v("üçé Mac OSX")]),e._v(" "),i("option",[e._v("üêß Linux")])])])]),e._v(" "),i("div",{staticClass:"grid"},[i("div",{staticClass:"grid-half"},[e._m(3),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.bugLocation,expression:"bugLocation"}],attrs:{name:"bugLocation"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.bugLocation=t.target.multiple?i:i[0]}}},e._l(e.bugLocations,(function(t){return i("option",{domProps:{value:t.toLowerCase()}},[e._v("\n            "+e._s(t)+"\n          ")])})),0),e._v(" "),"other"===e.bugLocation?i("input",{directives:[{name:"model",rawName:"v-model",value:e.bugLocationOther,expression:"bugLocationOther"}],attrs:{type:"text",placeholder:"Please specify..."},domProps:{value:e.bugLocationOther},on:{input:function(t){t.target.composing||(e.bugLocationOther=t.target.value)}}}):e._e()]),e._v(" "),i("div",{staticClass:"grid-half"},[e._m(4),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.bugAction,expression:"bugAction"}],attrs:{name:"plugin"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.bugAction=t.target.multiple?i:i[0]}}},e._l(e.bugActions,(function(t){return i("option",{domProps:{value:t.toLowerCase()}},[e._v("\n            "+e._s(t)+"\n          ")])})),0),e._v(" "),"other"===e.bugAction?i("input",{directives:[{name:"model",rawName:"v-model",value:e.bugActionOther,expression:"bugActionOther"}],attrs:{type:"text",placeholder:"Please specify..."},domProps:{value:e.bugActionOther},on:{input:function(t){t.target.composing||(e.bugActionOther=t.target.value)}}}):e._e()])]),e._v(" "),e._m(5),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticStyle:{"min-height":"100px"},attrs:{name:"subject",placeholder:"Provide a short description of your problem"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),e._v(" "),i("div",{staticClass:"grid"},[i("div",{staticClass:"grid-half"},[i("label",{attrs:{for:"subject"}},[e._v("Expected Behaviour")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.expectedBehaviour,expression:"expectedBehaviour"}],staticStyle:{"min-height":"100px"},attrs:{placeholder:"What is the expected behaviour"},domProps:{value:e.expectedBehaviour},on:{input:function(t){t.target.composing||(e.expectedBehaviour=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"grid-half"},[i("label",{attrs:{for:"actualBehaviour"}},[e._v("Actual Behaviour")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.actualBehaviour,expression:"actualBehaviour"}],staticStyle:{"min-height":"100px"},attrs:{name:"actualBehaviour",placeholder:"Write something.."},domProps:{value:e.actualBehaviour},on:{input:function(t){t.target.composing||(e.actualBehaviour=t.target.value)}}})])]),e._v(" "),i("label",{attrs:{for:"stepsToReproduce"}},[e._v("Steps to Reproduce")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.stepsToReproduce,expression:"stepsToReproduce"}],staticStyle:{"min-height":"100px"},attrs:{name:"stepsToReproduce",placeholder:"What are the neccesary steps to reproduce the bug"},domProps:{value:e.stepsToReproduce},on:{input:function(t){t.target.composing||(e.stepsToReproduce=t.target.value)}}}),e._v(" "),i("label",{attrs:{for:"offendingCode"}},[e._v("Offending Code")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.offendingCode,expression:"offendingCode"}],staticStyle:{"min-height":"100px"},attrs:{name:"offendingCode",placeholder:"Could you provide what you beleive is the offending code?"},domProps:{value:e.offendingCode},on:{input:function(t){t.target.composing||(e.offendingCode=t.target.value)}}}),e._v(" "),i("div",{staticClass:"grid"},[i("div",{staticClass:"grid-half"},[e._m(6),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gameDemoLink,expression:"gameDemoLink"}],ref:"gameDemoLink",attrs:{name:"gameDemoLink",type:"url",placeholder:"A Google Drive, Dropbox, etc, link to your demo game"},domProps:{value:e.gameDemoLink},on:{input:function(t){t.target.composing||(e.gameDemoLink=t.target.value)}}})])]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.errors.length,expression:"errors.length"}]},[i("b",[e._v("Please correct the following error(s):")])]),e._v(" "),i("ul",e._l(e.errors,(function(t){return i("li",[e._v(e._s(t))])})),0),e._v(" "),i("div",{attrs:{id:"h-captcha"}})]),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!e.formSubmitted,expression:"!formSubmitted"}],class:{disabled:e.isProcessing},attrs:{id:"submit",type:"submit",value:"Submit"},on:{click:e.submitReport}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.canShowLoader(),expression:"canShowLoader()"}],staticClass:"loader"}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.formSubmitted,expression:"formSubmitted"}],attrs:{id:"retry",type:"submit",value:"Report Another Bug"},on:{click:e.resetForm}})])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning"},[t("b",[this._v("Important!")]),this._v(" "),t("ul",[t("li",[this._v("\n          Please fill in as much as possible, else, the bug report may be\n          deleted without notice.\n        ")]),this._v(" "),t("li",[this._v("\n          This bug report will be publicly available so do not share sensitive\n          information.\n        ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("small",{staticClass:"required"},[t("b",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"plugin"}},[this._v("\n          Plugin\n          "),t("small",{staticClass:"required"},[t("b",[this._v("*")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"subject"}},[this._v("\n          Where does the bug occur\n          "),t("small",{staticClass:"required"},[t("b",[this._v("*")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"subject"}},[this._v("\n          Action before bug occurs\n          "),t("small",{staticClass:"required"},[t("b",[this._v("*")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"subject"}},[this._v("\n      Problem Description\n      "),t("small",{staticClass:"required"},[t("b",[this._v("*")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"gameDemoLink"}},[this._v("\n          Link to Demo Game\n          "),t("small",{staticClass:"required"},[t("b",[this._v("*")])])])}],!1,null,null,null);t.default=s.exports}}]);